# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'main.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

import requests, time
from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtCore import pyqtSignal, QObject, QThread, pyqtSignal
from requests.models import Response

BASE = "http://10.0.0.17:5000"

class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(960, 620)
        MainWindow.setMouseTracking(False)
        MainWindow.setToolTip("")
        MainWindow.setStyleSheet("alternate-background-color: rgb(240, 240, 240);")
        MainWindow.setAnimated(False)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.groupBox_doors = QtWidgets.QGroupBox(self.centralwidget)
        self.groupBox_doors.setEnabled(True)
        self.groupBox_doors.setGeometry(QtCore.QRect(520, 290, 361, 261))
        font = QtGui.QFont()
        font.setFamily("MS Shell Dlg 2")
        font.setPointSize(10)
        font.setBold(False)
        font.setWeight(50)
        self.groupBox_doors.setFont(font)
        self.groupBox_doors.setAutoFillBackground(False)
        self.groupBox_doors.setStyleSheet("background-color: rgb(222, 222, 222);")
        self.groupBox_doors.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.groupBox_doors.setFlat(False)
        self.groupBox_doors.setCheckable(False)
        self.groupBox_doors.setObjectName("groupBox_doors")
        self.label_doors_speed = QtWidgets.QLabel(self.groupBox_doors)
        self.label_doors_speed.setGeometry(QtCore.QRect(120, 30, 61, 16))
        self.label_doors_speed.setObjectName("label_doors_speed")
        self.label_time = QtWidgets.QLabel(self.groupBox_doors)
        self.label_time.setGeometry(QtCore.QRect(190, 30, 61, 16))
        self.label_time.setObjectName("label_time")
        self.button_doorsPanic = QtWidgets.QPushButton(self.groupBox_doors)
        self.button_doorsPanic.setGeometry(QtCore.QRect(125, 215, 106, 36))
        palette = QtGui.QPalette()
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
        self.button_doorsPanic.setPalette(palette)
        font = QtGui.QFont()
        font.setFamily("MS Shell Dlg 2")
        font.setPointSize(10)
        font.setBold(False)
        font.setItalic(False)
        font.setWeight(9)
        self.button_doorsPanic.setFont(font)
        self.button_doorsPanic.setStyleSheet("background-color: rgb(170, 0, 0);\n"
"font: 75 10pt \"MS Shell Dlg 2\";\n"
"color: rgb(255, 255, 255);")
        self.button_doorsPanic.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_doorsPanic.setObjectName("button_doorsPanic")
        self.label_A = QtWidgets.QLabel(self.groupBox_doors)
        self.label_A.setGeometry(QtCore.QRect(10, 49, 16, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_A.setFont(font)
        self.label_A.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_A.setIndent(7)
        self.label_A.setObjectName("label_A")
        self.label_D = QtWidgets.QLabel(self.groupBox_doors)
        self.label_D.setGeometry(QtCore.QRect(10, 172, 16, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_D.setFont(font)
        self.label_D.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_D.setIndent(7)
        self.label_D.setObjectName("label_D")
        self.label_B = QtWidgets.QLabel(self.groupBox_doors)
        self.label_B.setGeometry(QtCore.QRect(10, 90, 16, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_B.setFont(font)
        self.label_B.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_B.setIndent(7)
        self.label_B.setObjectName("label_B")
        self.label_C = QtWidgets.QLabel(self.groupBox_doors)
        self.label_C.setGeometry(QtCore.QRect(10, 131, 16, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_C.setFont(font)
        self.label_C.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_C.setIndent(7)
        self.label_C.setObjectName("label_C")
        self.splitter = QtWidgets.QSplitter(self.groupBox_doors)
        self.splitter.setGeometry(QtCore.QRect(41, 49, 291, 19))
        self.splitter.setOrientation(QtCore.Qt.Horizontal)
        self.splitter.setObjectName("splitter")

        self.button_a = QtWidgets.QPushButton(self.splitter)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_a.setFont(font)
        self.button_a.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_a.setObjectName("button_a")

        self.line_speed_a = QtWidgets.QLineEdit(self.splitter)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_speed_a.setFont(font)
        self.line_speed_a.setToolTipDuration(1)
        self.line_speed_a.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_speed_a.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_speed_a.setObjectName("line_speed_a")
        


        self.line_timeA = QtWidgets.QLineEdit(self.splitter)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_timeA.setFont(font)
        self.line_timeA.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_timeA.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_timeA.setObjectName("line_timeA")
        self.button_a_go = QtWidgets.QPushButton(self.splitter)
        font = QtGui.QFont()
        font.setPointSize(10)

        self.button_a_go.setFont(font)
        self.button_a_go.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_a_go.setObjectName("button_a_go")

        self.splitter_2 = QtWidgets.QSplitter(self.groupBox_doors)
        self.splitter_2.setGeometry(QtCore.QRect(41, 90, 291, 19))
        self.splitter_2.setOrientation(QtCore.Qt.Horizontal)
        self.splitter_2.setObjectName("splitter_2")

        self.button_b = QtWidgets.QPushButton(self.splitter_2)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_b.setFont(font)
        self.button_b.setAcceptDrops(False)
        self.button_b.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_b.setObjectName("button_b")

        self.line_speed_b = QtWidgets.QLineEdit(self.splitter_2)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_speed_b.setFont(font)
        self.line_speed_b.setToolTipDuration(1)
        self.line_speed_b.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_speed_b.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_speed_b.setObjectName("line_speed_b")
        self.line_timeB = QtWidgets.QLineEdit(self.splitter_2)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_timeB.setFont(font)
        self.line_timeB.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_timeB.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_timeB.setObjectName("line_timeB")
        self.button_b_go = QtWidgets.QPushButton(self.splitter_2)
        font = QtGui.QFont()
        font.setPointSize(10)

        self.button_b_go.setFont(font)
        self.button_b_go.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_b_go.setObjectName("button_b_go")

        self.splitter_3 = QtWidgets.QSplitter(self.groupBox_doors)
        self.splitter_3.setGeometry(QtCore.QRect(41, 130, 291, 19))
        self.splitter_3.setOrientation(QtCore.Qt.Horizontal)
        self.splitter_3.setObjectName("splitter_3")

        self.button_c = QtWidgets.QPushButton(self.splitter_3)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_c.setFont(font)
        self.button_c.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_c.setObjectName("button_c")
        self.line_speed_c = QtWidgets.QLineEdit(self.splitter_3)

        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_speed_c.setFont(font)
        self.line_speed_c.setToolTipDuration(1)
        self.line_speed_c.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_speed_c.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_speed_c.setObjectName("line_speed_c")
        self.line_timeC = QtWidgets.QLineEdit(self.splitter_3)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_timeC.setFont(font)
        self.line_timeC.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_timeC.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_timeC.setObjectName("line_timeC")
        self.button_c_go = QtWidgets.QPushButton(self.splitter_3)
        font = QtGui.QFont()
        font.setPointSize(10)

        self.button_c_go.setFont(font)
        self.button_c_go.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_c_go.setObjectName("button_c_go")

        self.splitter_4 = QtWidgets.QSplitter(self.groupBox_doors)
        self.splitter_4.setGeometry(QtCore.QRect(41, 170, 291, 19))
        self.splitter_4.setOrientation(QtCore.Qt.Horizontal)
        self.splitter_4.setObjectName("splitter_4")

        self.button_d = QtWidgets.QPushButton(self.splitter_4)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_d.setFont(font)
        self.button_d.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_d.setObjectName("button_d")
        self.line_speed_d = QtWidgets.QLineEdit(self.splitter_4)

        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_speed_d.setFont(font)
        self.line_speed_d.setToolTipDuration(1)
        self.line_speed_d.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_speed_d.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_speed_d.setObjectName("line_speed_d")
        self.line_timeD = QtWidgets.QLineEdit(self.splitter_4)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_timeD.setFont(font)
        self.line_timeD.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_timeD.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_timeD.setObjectName("line_timeD")
        self.button_d_go = QtWidgets.QPushButton(self.splitter_4)
        font = QtGui.QFont()
        font.setPointSize(10)

        self.button_d_go.setFont(font)
        self.button_d_go.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_d_go.setObjectName("button_d_go")

        self.groupBox_reel = QtWidgets.QGroupBox(self.centralwidget)
        self.groupBox_reel.setEnabled(True)
        self.groupBox_reel.setGeometry(QtCore.QRect(80, 290, 341, 261))
        palette = QtGui.QPalette()
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(222, 222, 222))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
        self.groupBox_reel.setPalette(palette)
        font = QtGui.QFont()
        font.setFamily("MS Shell Dlg 2")
        font.setPointSize(10)
        font.setBold(False)
        font.setWeight(50)
        self.groupBox_reel.setFont(font)
        self.groupBox_reel.setAutoFillBackground(False)
        self.groupBox_reel.setStyleSheet("background-color: rgb(222, 222, 222);\n"
"")
        self.groupBox_reel.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.groupBox_reel.setFlat(False)
        self.groupBox_reel.setCheckable(False)
        self.groupBox_reel.setObjectName("groupBox_reel")
        self.label_tension = QtWidgets.QLabel(self.groupBox_reel)
        self.label_tension.setGeometry(QtCore.QRect(110, 30, 61, 16))
        self.label_tension.setObjectName("label_tension")
        self.label_speed_reel = QtWidgets.QLabel(self.groupBox_reel)
        self.label_speed_reel.setGeometry(QtCore.QRect(190, 30, 61, 16))
        self.label_speed_reel.setObjectName("label_speed_reel")
        
        self.button_reel_en = QtWidgets.QPushButton(self.groupBox_reel)
        self.button_reel_en.setGeometry(QtCore.QRect(30, 50, 61, 20))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_reel_en.setFont(font)
        self.button_reel_en.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_reel_en.setObjectName("button_reel_en")

        self.button_reelOff = QtWidgets.QPushButton(self.groupBox_reel)
        self.button_reelOff.setGeometry(QtCore.QRect(260, 50, 61, 20))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_reelOff.setFont(font)
        self.button_reelOff.setAcceptDrops(False)
        self.button_reelOff.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_reelOff.setObjectName("button_reelOff")

        self.button_reel_calib = QtWidgets.QPushButton(self.groupBox_reel)
        self.button_reel_calib.setGeometry(QtCore.QRect(260, 100, 61, 20))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_reel_calib.setFont(font)
        self.button_reel_calib.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_reel_calib.setObjectName("button_reel_calib")

        self.line_tension = QtWidgets.QLineEdit(self.groupBox_reel)
        self.line_tension.setGeometry(QtCore.QRect(101, 50, 72, 19))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_tension.setFont(font)
        self.line_tension.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_tension.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_tension.setObjectName("line_tension")
        self.line_speed_reel = QtWidgets.QLineEdit(self.groupBox_reel)
        self.line_speed_reel.setGeometry(QtCore.QRect(177, 50, 73, 19))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.line_speed_reel.setFont(font)
        self.line_speed_reel.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.line_speed_reel.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.line_speed_reel.setObjectName("line_speed_reel")
        self.label_cableOut = QtWidgets.QLabel(self.groupBox_reel)
        self.label_cableOut.setGeometry(QtCore.QRect(40, 95, 61, 16))
        self.label_cableOut.setObjectName("label_cableOut")
        self.label_cableDir = QtWidgets.QLabel(self.groupBox_reel)
        self.label_cableDir.setGeometry(QtCore.QRect(40, 155, 156, 31))
        self.label_cableDir.setObjectName("label_cableDir")

        self.button_reelPanic = QtWidgets.QPushButton(self.groupBox_reel)
        self.button_reelPanic.setGeometry(QtCore.QRect(105, 210, 106, 36))

        palette = QtGui.QPalette()
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Active, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Inactive, QtGui.QPalette.AlternateBase, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.WindowText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Button, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Text, brush)
        brush = QtGui.QBrush(QtGui.QColor(255, 255, 255))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.ButtonText, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Base, brush)
        brush = QtGui.QBrush(QtGui.QColor(170, 0, 0))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.Window, brush)
        brush = QtGui.QBrush(QtGui.QColor(240, 240, 240))
        brush.setStyle(QtCore.Qt.SolidPattern)
        palette.setBrush(QtGui.QPalette.Disabled, QtGui.QPalette.AlternateBase, brush)
        self.button_reelPanic.setPalette(palette)
        font = QtGui.QFont()
        font.setFamily("MS Shell Dlg 2")
        font.setPointSize(10)
        font.setBold(False)
        font.setItalic(False)
        font.setWeight(9)
        self.button_reelPanic.setFont(font)
        self.button_reelPanic.setStyleSheet("background-color: rgb(170, 0, 0);\n"
"font: 75 10pt \"MS Shell Dlg 2\";\n"
"color: rgb(255, 255, 255);")
        self.button_reelPanic.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_reelPanic.setObjectName("button_reelPanic")
        self.label_11 = QtWidgets.QLabel(self.groupBox_reel)
        self.label_11.setGeometry(QtCore.QRect(205, 95, 31, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_11.setFont(font)
        self.label_11.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_11.setIndent(7)
        self.label_11.setObjectName("label_11")
        self.lcd_cableOut = QtWidgets.QLCDNumber(self.groupBox_reel)
        self.lcd_cableOut.setGeometry(QtCore.QRect(100, 90, 101, 31))
        self.lcd_cableOut.setStyleSheet("background-color: rgb(170, 255, 127);")
        self.lcd_cableOut.setDigitCount(7)
        self.lcd_cableOut.setSegmentStyle(QtWidgets.QLCDNumber.Flat)
        self.lcd_cableOut.setProperty("value", -102.35)
        self.lcd_cableOut.setObjectName("lcd_cableOut")

        self.progressBar = QtWidgets.QProgressBar(self.groupBox_reel)
        self.progressBar.setGeometry(QtCore.QRect(35, 130, 191, 16))
        self.progressBar.setStyleSheet("")
        self.progressBar.setProperty("value", 24)
        self.progressBar.setTextVisible(False)
        self.progressBar.setObjectName("progressBar")

        self.groupBox_main = QtWidgets.QGroupBox(self.centralwidget)
        self.groupBox_main.setEnabled(True)
        self.groupBox_main.setGeometry(QtCore.QRect(80, 30, 801, 221))
        font = QtGui.QFont()
        font.setFamily("MS Shell Dlg 2")
        font.setPointSize(10)
        font.setBold(False)
        font.setWeight(50)
        self.groupBox_main.setFont(font)
        self.groupBox_main.setAutoFillBackground(False)
        self.groupBox_main.setStyleSheet("background-color: rgb(222, 222, 222);\n"
"")
        self.groupBox_main.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.groupBox_main.setTitle("")
        self.groupBox_main.setFlat(False)
        self.groupBox_main.setCheckable(False)
        self.groupBox_main.setObjectName("groupBox_main")
        self.label_sensor220_i = QtWidgets.QLabel(self.groupBox_main)
        self.label_sensor220_i.setGeometry(QtCore.QRect(30, 10, 141, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_sensor220_i.setFont(font)
        self.label_sensor220_i.setStyleSheet("color: rgb(0, 0, 255);")
        self.label_sensor220_i.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_sensor220_i.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_sensor220_i.setIndent(7)
        self.label_sensor220_i.setObjectName("label_sensor220_i")

        self.button_400V_onoff = QtWidgets.QPushButton(self.groupBox_main)
        self.button_400V_onoff.setGeometry(QtCore.QRect(230, 120, 141, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_400V_onoff.setFont(font)
        self.button_400V_onoff.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_400V_onoff.setObjectName("button_400V_onoff")

        self.button_Ziehl_onoff = QtWidgets.QPushButton(self.groupBox_main)
        self.button_Ziehl_onoff.setGeometry(QtCore.QRect(230, 170, 141, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.button_Ziehl_onoff.setFont(font)
        self.button_Ziehl_onoff.setAcceptDrops(False)
        self.button_Ziehl_onoff.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.button_Ziehl_onoff.setObjectName("button_Ziehl_onoff")

        self.label_sensor400_i = QtWidgets.QLabel(self.groupBox_main)
        self.label_sensor400_i.setGeometry(QtCore.QRect(231, 10, 141, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_sensor400_i.setFont(font)
        self.label_sensor400_i.setStyleSheet("color: rgb(0, 0, 255);")
        self.label_sensor400_i.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_sensor400_i.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_sensor400_i.setIndent(7)
        self.label_sensor400_i.setObjectName("label_sensor400_i")
        self.label_24V = QtWidgets.QLabel(self.groupBox_main)
        self.label_24V.setGeometry(QtCore.QRect(431, 10, 136, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_24V.setFont(font)
        self.label_24V.setStyleSheet("color: rgb(0, 0, 255);")
        self.label_24V.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_24V.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_24V.setIndent(7)
        self.label_24V.setObjectName("label_24V")
        self.lcd_400V_i = QtWidgets.QLCDNumber(self.groupBox_main)
        self.lcd_400V_i.setGeometry(QtCore.QRect(230, 30, 141, 51))
        self.lcd_400V_i.setStyleSheet("background-color: rgb(170, 255, 127);")
        self.lcd_400V_i.setSegmentStyle(QtWidgets.QLCDNumber.Flat)
        self.lcd_400V_i.setProperty("value", 3.55)
        self.lcd_400V_i.setObjectName("lcd_400V_i")

        self.lcd_24V = QtWidgets.QLCDNumber(self.groupBox_main)
        self.lcd_24V.setGeometry(QtCore.QRect(430, 30, 141, 51))
        self.lcd_24V.setStyleSheet("background-color: rgb(170, 255, 127);")
        self.lcd_24V.setSegmentStyle(QtWidgets.QLCDNumber.Flat)
        self.lcd_24V.setProperty("value", 23.99)
        self.lcd_24V.setObjectName("lcd_24V")
        self.polling()

        self.lcd_220V_i = QtWidgets.QLCDNumber(self.groupBox_main)
        self.lcd_220V_i.setGeometry(QtCore.QRect(30, 30, 141, 51))
        self.lcd_220V_i.setStyleSheet("background-color: rgb(170, 255, 127);")
        self.lcd_220V_i.setFrameShape(QtWidgets.QFrame.Box)
        self.lcd_220V_i.setFrameShadow(QtWidgets.QFrame.Raised)
        self.lcd_220V_i.setSmallDecimalPoint(False)
        self.lcd_220V_i.setDigitCount(5)
        self.lcd_220V_i.setSegmentStyle(QtWidgets.QLCDNumber.Flat)
        self.lcd_220V_i.setProperty("value", 1.16)
        self.lcd_220V_i.setObjectName("lcd_220V_i")

        self.lcd_tension = QtWidgets.QLCDNumber(self.groupBox_main)
        self.lcd_tension.setGeometry(QtCore.QRect(630, 30, 141, 51))
        self.lcd_tension.setStyleSheet("background-color: rgb(170, 255, 127);")
        self.lcd_tension.setFrameShape(QtWidgets.QFrame.Box)
        self.lcd_tension.setFrameShadow(QtWidgets.QFrame.Raised)
        self.lcd_tension.setSmallDecimalPoint(False)
        self.lcd_tension.setDigitCount(5)
        self.lcd_tension.setSegmentStyle(QtWidgets.QLCDNumber.Flat)
        self.lcd_tension.setProperty("value", 1346.0)
        self.lcd_tension.setProperty("intValue", 1346)
        self.lcd_tension.setObjectName("lcd_tension")
        self.label_tension_out = QtWidgets.QLabel(self.groupBox_main)
        self.label_tension_out.setGeometry(QtCore.QRect(630, 10, 141, 16))
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_tension_out.setFont(font)
        self.label_tension_out.setStyleSheet("color: rgb(0, 0, 255);")
        self.label_tension_out.setLocale(QtCore.QLocale(QtCore.QLocale.English, QtCore.QLocale.UnitedStates))
        self.label_tension_out.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_tension_out.setIndent(7)
        self.label_tension_out.setObjectName("label_tension_out")
        self.groupBox_doors.raise_()
        self.button_a.raise_()
        self.button_b.raise_()
        self.button_c.raise_()
        self.button_d.raise_()
        self.line_speed_a.raise_()
        self.label_A.raise_()
        self.label_B.raise_()
        self.label_C.raise_()
        self.label_D.raise_()
        self.line_speed_b.raise_()
        self.line_speed_c.raise_()
        self.line_speed_d.raise_()
        self.line_timeC.raise_()
        self.line_timeD.raise_()
        self.line_timeB.raise_()
        self.line_timeA.raise_()
        self.groupBox_reel.raise_()
        self.groupBox_main.raise_()
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 959, 18))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "QuadPole"))
        self.groupBox_doors.setTitle(_translate("MainWindow", "Doors"))
        self.label_doors_speed.setText(_translate("MainWindow", "Speed"))
        self.label_time.setText(_translate("MainWindow", "Time"))
        self.button_doorsPanic.setText(_translate("MainWindow", "STOP"))
        self.label_A.setText(_translate("MainWindow", "A"))
        self.label_D.setText(_translate("MainWindow", "D"))
        self.label_B.setText(_translate("MainWindow", "B"))
        self.label_C.setText(_translate("MainWindow", "C"))
        self.button_a.setText(_translate("MainWindow", "Open"))
        self.line_speed_a.setToolTip(_translate("MainWindow", "Speed"))
        self.line_speed_a.setText(_translate("MainWindow", "70"))
        self.line_timeA.setToolTip(_translate("MainWindow", "Duration"))
        self.line_timeA.setText(_translate("MainWindow", "15"))
        self.button_a_go.setText(_translate("MainWindow", "GO"))
        self.button_b.setText(_translate("MainWindow", "Open"))
        self.line_speed_b.setToolTip(_translate("MainWindow", "Speed"))
        self.line_speed_b.setText(_translate("MainWindow", "70"))
        self.line_timeB.setToolTip(_translate("MainWindow", "Duration"))
        self.line_timeB.setText(_translate("MainWindow", "15"))
        self.button_b_go.setText(_translate("MainWindow", "GO"))
        self.button_c.setText(_translate("MainWindow", "Open"))
        self.line_speed_c.setToolTip(_translate("MainWindow", "Speed"))
        self.line_speed_c.setText(_translate("MainWindow", "70"))
        self.line_timeC.setToolTip(_translate("MainWindow", "Duration"))
        self.line_timeC.setText(_translate("MainWindow", "15"))
        self.button_c_go.setText(_translate("MainWindow", "GO"))
        self.button_d.setText(_translate("MainWindow", "Open"))
        self.line_speed_d.setToolTip(_translate("MainWindow", "Speed"))
        self.line_speed_d.setText(_translate("MainWindow", "70"))
        self.line_timeD.setToolTip(_translate("MainWindow", "Duration"))
        self.line_timeD.setText(_translate("MainWindow", "15"))
        self.button_d_go.setText(_translate("MainWindow", "GO"))
        self.groupBox_reel.setTitle(_translate("MainWindow", "Reel"))
        self.label_tension.setText(_translate("MainWindow", "Tension"))
        self.label_speed_reel.setText(_translate("MainWindow", "Speed"))
        self.button_reel_en.setText(_translate("MainWindow", "Normal"))
        self.button_reelOff.setText(_translate("MainWindow", "OFF"))
        self.button_reel_calib.setText(_translate("MainWindow", ">0<"))
        self.line_tension.setToolTip(_translate("MainWindow", "Tension"))
        self.line_tension.setText(_translate("MainWindow", "100"))
        self.line_speed_reel.setToolTip(_translate("MainWindow", "Speed"))
        self.line_speed_reel.setText(_translate("MainWindow", "300"))
        self.label_cableOut.setText(_translate("MainWindow", "Cable out"))
        self.label_cableDir.setText(_translate("MainWindow", "Direction"))
        self.button_reelPanic.setText(_translate("MainWindow", "STOP"))
        self.label_11.setText(_translate("MainWindow", "m"))
        self.label_sensor220_i.setText(_translate("MainWindow", "220V - current, A"))
        self.button_400V_onoff.setText(_translate("MainWindow", "400V OFF"))
        self.button_Ziehl_onoff.setText(_translate("MainWindow", "Ziehl OFF"))
        self.label_sensor400_i.setText(_translate("MainWindow", "400V - current, A"))
        self.label_24V.setText(_translate("MainWindow", "24V"))
        self.label_tension_out.setText(_translate("MainWindow", "Tension"))

        self.button_a.clicked.connect(self.button_a_toggle)
        self.button_a_go.clicked.connect(self.door_a_put)
        self.button_b.clicked.connect(self.button_b_toggle)
        self.button_b_go.clicked.connect(self.door_b_put)
        self.button_c.clicked.connect(self.button_c_toggle)
        self.button_c_go.clicked.connect(self.door_c_put)
        self.button_d.clicked.connect(self.button_d_toggle)
        self.button_d_go.clicked.connect(self.door_d_put)
        self.button_reel_en.clicked.connect(self.reel_enable)
        self.button_reelOff.clicked.connect(self.reel_off)
        self.button_reel_calib.clicked.connect(self.reel_calib)
        self.button_reelPanic.clicked.connect(self.reel_off)
        self.button_400V_onoff.clicked.connect(self.button_400V_toggle)
        self.button_Ziehl_onoff.clicked.connect(self.button_Ziehl_toggle)


# DOOR A CONTROL
    door_a_state = 1
    def button_a_toggle(self):
        if self.button_a.text() == "Open":
            self.button_a.setText("Close")
            self.door_a_state = -1
        else: 
            self.button_a.setText("Open")
            self.door_a_state = 1
    
    def door_a_put(self):
        if self.door_a_state == -1:
            requests.put(BASE + "/door_control?door=a", {
            'velocity':'-' + self.line_speed_a.text(),
            'duration':self.line_timeA.text()
            })
        else:
            requests.put(BASE + "/door_control?door=a", {
            'velocity':self.line_speed_a.text(),
            'duration':self.line_timeA.text()
            })

# DOOR B CONTROL
    door_b_state = 1
    def button_b_toggle(self):    
        if self.button_b.text() == "Open":
            self.button_b.setText("Close")
            self.door_b_state = -1
        else: 
            self.button_b.setText("Open")
            self.door_b_state = 1
    
    def door_b_put(self):
        if self.door_b_state == -1:
            requests.put(BASE + "/door_control?door=b", {
            'velocity':'-' + self.line_speed_b.text(),
            'duration':self.line_timeB.text()
            })
        else:
            requests.put(BASE + "/door_control?door=b", {
            'velocity':self.line_speed_b.text(),
            'duration':self.line_timeB.text()
            })

# DOOR C CONTROL
    door_c_state = 1
    def button_c_toggle(self):   
        if self.button_c.text() == "Open":
            self.button_c.setText("Close")
            self.door_c_state = -1
        else: 
            self.button_c.setText("Open")
            self.door_c_state = 1
    
    def door_c_put(self):
        if self.door_c_state == -1:
            requests.put(BASE + "/door_control?door=c", {
            'velocity':'-' + self.line_speed_c.text(),
            'duration':self.line_timeC.text()
            })
        else:
            requests.put(BASE + "/door_control?door=c", {
            'velocity':self.line_speed_c.text(),
            'duration':self.line_timeC.text()
            })

# DOOR D CONTROL
    door_d_state = 1
    def button_d_toggle(self):  
        if self.button_d.text() == "Open":
            self.button_d.setText("Close")
            self.door_d_state = -1
        else: 
            self.button_d.setText("Open")
            self.door_d_state = 1
    
    def door_d_put(self):
        if self.door_d_state == -1:
            requests.put(BASE + "/door_control?door=d", {
            'velocity':'-' + self.line_speed_d.text(),
            'duration':self.line_timeD.text()
            })
        else:
            requests.put(BASE + "/door_control?door=d", {
            'velocity':self.line_speed_d.text(),
            'duration':self.line_timeD.text()
            })

# 400V CONTROL
    def button_400V_toggle(self):
        is_on = 0      
        if self.button_400V_onoff.text() == "400V OFF":
            self.button_400V_onoff.setText("400V ON")
            self.button_400V_onoff.setStyleSheet("color: rgb(255, 255, 255);background-color: rgb(0, 170, 0);")
            is_on = 1
        else: 
            self.button_400V_onoff.setText("400V OFF")
            is_on = 0
            self.button_400V_onoff.setStyleSheet("color: rgb(0, 0, 0);background-color: rgb(222, 222, 222);")
        requests.put(BASE + "/400v_regulator_control?is_on="+str(is_on), {})

# ZIEHL CONTROL
    def button_Ziehl_toggle(self):
        is_on = 1      
        if self.button_Ziehl_onoff.text() == "Ziehl OFF":
            self.button_Ziehl_onoff.setText("Ziehl ON")
            self.button_Ziehl_onoff.setStyleSheet("color: rgb(255, 255, 255);background-color: rgb(0, 170, 0);")
            is_on = 0
        else: 
            self.button_Ziehl_onoff.setText("Ziehl OFF")
            is_on = 1
            self.button_Ziehl_onoff.setStyleSheet("color: rgb(0, 0, 0);background-color: rgb(222, 222, 222);")
        requests.put(BASE + "/ZIEHL_control?enabled="+str(is_on), {})

# REEL CONTROL
    def reel_enable(self):
        self.button_reel_en.setStyleSheet("color: rgb(255, 255, 255);background-color: rgb(0, 170, 0);")
        requests.post(BASE + "/set_winch?mode=regular", {
            'tension':self.line_tension.text(),    
            'velocity':self.line_speed_reel.text()
        })
    
    def reel_off(self):
        self.button_reel_en.setStyleSheet("color: rgb(0, 0, 0);background-color: rgb(222, 222, 222);")
        requests.post(BASE + "/set_winch?mode=disable", {
            'tension':'0',    
        })

    def reel_calib(self):
        requests.post(BASE + "/set_winch?mode=calib&calib_winch?set_edge=rolled", {
            'tension':'0', 
        })
        
    def polling(self):
        self.worker = WorkerThread()
        self.worker.start()
        self.worker.update_polling.connect(self.polling_update)

    def polling_update(self,val):
        value_24v = round(val.json()["24v_vout"]/850*24,2)
        self.lcd_24V.setProperty("value", value_24v)
        value_220i = round(val.json()["220vac_ain"]/175,2)
        self.lcd_220V_i.setProperty("value", value_220i)
        value_400i = round((val.json()["400v_aout"]-68)/1000,2)
        self.lcd_400V_i.setProperty("value", value_400i)
        value_tension = round((val.json()["load_cell"]-680)*11.2,0)
        self.lcd_tension.setProperty("value", value_tension)
        value_rope = round(val.json()["TotalRope"]/100,2)
        self.lcd_cableOut.setProperty("value", value_rope)
        self.progressBar.setProperty("value", value_rope)

class WorkerThread(QThread):
    update_polling = pyqtSignal(Response)
    def run(self):
        while True:
            poll = requests.get(BASE + "/data?param=400v_aout&param=24v_vout&param=220vac_ain&param=load_cell", {})
            self.update_polling.emit(poll)
            time.sleep(1)

if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
